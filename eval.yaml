name: 'HotpotQA Evaluation - 1.5x lr + dropout'
description: ''
priority: 3
is_parent: True
setup_command: 'conda deactivate; conda activate PY3; bash setup.sh &>/dev/null'
command: 'conda deactivate; conda activate PY3; python main.py --mode test --data_split dev --para_limit 2250 --batch_size 24 --init_lr 0.1 --keep_prob 1.0 --sp_lambda 1.0 --prediction_file dev_distractor_pred.json; python hotpot_evaluate_v1.py dev_distractor_pred.json hotpot_dev_distractor_v1.json'

parameters:
  # ensure train_task uses the same prepro jb
  # as specified in prepro_task
  prepro_task: '3y8rwtrfbi'
  train_task: 'vns9tu5tx3'

environment_variables:
  USE_BOLT_EXPERIMENTAL_CONDA: "1"

resources:
  cluster: simcloud-mr2.apple.com
  image: 'current-ubuntu16.04-cuda9.0'
  num_cpus: 2
  num_gpus: 1
  memory_gb: 256
  disk_gb: 200
  timeout: 24h
  
gpu_options:
  cuda_version: '9.0'
  cudnn_version: '7.1'
  export_env_vars: true

permissions:
  owners: 'hotpotqa'

